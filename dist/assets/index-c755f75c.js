(function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))h(n);new MutationObserver(n=>{for(const l of n)if(l.type==="childList")for(const y of l.addedNodes)y.tagName==="LINK"&&y.rel==="modulepreload"&&h(y)}).observe(document,{childList:!0,subtree:!0});function B(n){const l={};return n.integrity&&(l.integrity=n.integrity),n.referrerPolicy&&(l.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?l.credentials="include":n.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function h(n){if(n.ep)return;n.ep=!0;const l=B(n);fetch(n.href,l)}})();let t,r,s=0,u=!1,p=!1,o,d,a,m,f,c=30,g=!1;window.onload=function(){C(),document.getElementById("startBtn").addEventListener("click",x),document.getElementById("restartBtn").addEventListener("click",M),document.getElementById("restartBtn").disabled=!0,a=document.getElementById("custom-cursor"),m=document.getElementById("board"),T()};function C(){for(let e=0;e<9;e++){let i=document.createElement("div");i.id=e.toString(),i.addEventListener("click",L),document.getElementById("board").appendChild(i)}}function T(){m.addEventListener("mouseenter",function(){a.style.display="block"}),m.addEventListener("mouseleave",function(){a.style.display="none"}),m.addEventListener("mousemove",function(e){a.style.left=e.pageX+"px",a.style.top=e.pageY+"px"}),m.addEventListener("click",function(){a.classList.remove("cursor-hit"),a.offsetWidth,a.classList.add("cursor-hit"),setTimeout(()=>{a.classList.remove("cursor-hit")},300)})}function I(){return Math.floor(Math.random()*9).toString()}function E(){if(!p||u)return;t&&(t.innerHTML="");let e=document.createElement("img");e.src="./assets/characterP_nor.png";let i=I();r&&r.id==i||(t=document.getElementById(i),t.appendChild(e),setTimeout(()=>{e.parentNode===t&&e.classList.add("pop-up")},10))}function v(){if(!p||u)return;r&&(r.innerHTML="");let e=document.createElement("img");e.src="./assets/characterG_nor.png";let i=I();t&&t.id==i||(r=document.getElementById(i),r.appendChild(e),setTimeout(()=>{e.parentNode===r&&e.classList.add("pop-up")},10))}function L(){if(u)return;let e=g?20:10;this==t?(s-=e,s<0&&(s=0),document.getElementById("score").innerText=s.toString(),t&&t.firstChild&&(t.firstChild.src="./assets/characterP_angry.png",setTimeout(()=>{t&&t.firstChild&&(t.firstChild.src="./assets/characterP_nor.png")},300))):this==r&&(r&&r.firstChild&&r.firstChild.src.includes("characterG_nor")?(s+=e,document.getElementById("score").innerText=s.toString(),r&&r.firstChild&&(r.firstChild.src="./assets/characterG_happy.png"),t&&t.firstChild&&(t.firstChild.src="./assets/characterP_angry.png",setTimeout(()=>{t&&t.firstChild&&(t.firstChild.src="./assets/characterP_nor.png")},300)),setTimeout(()=>{r&&r.firstChild&&(r.firstChild.src="./assets/characterG_nor.png")},1e3)):r&&r.firstChild&&r.firstChild.src.includes("characterG_happy")&&(s+=e,document.getElementById("score").innerText=s.toString(),t&&t.firstChild&&(t.firstChild.src="./assets/characterP_angry.png",setTimeout(()=>{t&&t.firstChild&&(t.firstChild.src="./assets/characterP_nor.png")},300)),setTimeout(()=>{r&&r.firstChild&&(r.firstChild.src="./assets/characterG_nor.png")},1e3)))}function x(){p||(p=!0,u=!1,g=!1,s=0,c=30,document.getElementById("score").innerText=s.toString(),document.getElementById("timer").innerText=c+"s",document.getElementById("startBtn").disabled=!0,document.getElementById("restartBtn").disabled=!1,o&&clearInterval(o),d&&clearInterval(d),f&&clearInterval(f),o=setInterval(E,1e3),d=setInterval(v,2e3),f=setInterval(()=>{c--,document.getElementById("timer").innerText=c+"s",c<=10&&!g&&b(),c<=0&&P()},1e3),t&&(t.innerHTML=""),r&&(r.innerHTML=""),t=null,r=null)}function b(){g=!0,o&&clearInterval(o),d&&clearInterval(d),o=setInterval(E,500),d=setInterval(v,1e3),document.getElementById("timer").innerText=c+"s FEVER!",document.getElementById("timer").style.color="#FFD700";let e=document.createElement("div");e.id="fever-notice",e.innerText="FEVER MODE! +20 points per hit!",e.style.position="fixed",e.style.top="50%",e.style.left="50%",e.style.transform="translate(-50%, -50%)",e.style.backgroundColor="#FFD700",e.style.color="#000",e.style.padding="20px",e.style.borderRadius="10px",e.style.fontSize="24px",e.style.fontWeight="bold",e.style.zIndex="10000",e.style.boxShadow="0 0 20px rgba(255, 215, 0, 0.8)",document.body.appendChild(e),setTimeout(()=>{e.parentNode&&e.parentNode.removeChild(e)},3e3)}function M(){o&&clearInterval(o),d&&clearInterval(d),f&&clearInterval(f),t&&(t.innerHTML=""),r&&(r.innerHTML=""),t=null,r=null,p=!1,u=!1,g=!1,s=0,c=30,document.getElementById("score").innerText=s.toString(),document.getElementById("timer").innerText=c+"s",document.getElementById("timer").style.color="#e52521",document.getElementById("startBtn").disabled=!1,document.getElementById("restartBtn").disabled=!0;let e=document.getElementById("fever-notice");e&&e.parentNode.removeChild(e)}function P(){o&&clearInterval(o),d&&clearInterval(d),f&&clearInterval(f),u=!0,document.getElementById("score").innerText="FINAL SCORE: "+s.toString(),document.getElementById("restartBtn").disabled=!1}
